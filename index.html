<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TensorFlow Ultra HDR Splitter</title>
  <link rel="stylesheet" href="./styles/main.css" />
</head>
<body>
  <header class="hero">
    <div class="hero__copy">
      <p class="eyebrow">Python + TensorFlow (local only)</p>
      <h1>Ultra HDR Gain Map Split</h1>
      <p class="lede">Pulls a sample from the <code>Ultra_HDR_Samples</code> repo, separates the gain map with TensorFlow, and lets you compare SDR base vs HDR (gain applied).</p>
      <div class="chips">
        <span class="chip">Run: <code>python3 serve.py</code></span>
        <span class="chip">Open: <code>http://localhost:8000</code></span>
      </div>
    </div>
  </header>

  <main class="shell">
    <section class="card compare-frame" id="sliderShell">
      <img id="sdr" class="layer base" src="generated/base.png" alt="SDR base" />
      <img id="hdr" class="layer boosted" src="generated/hdr.png" alt="HDR (gain applied)" />
      <input id="slider" class="compare-slider" type="range" min="0" max="100" value="50" aria-label="Reveal HDR gain map" />
    </section>

    <section class="card">
      <h2 style="margin-top: 0;">How to run</h2>
      <ol>
        <li>Install TensorFlow CPU: <code>pip install tensorflow-cpu</code>.</li>
        <li>Run the pipeline + server: <code>python3 serve.py</code>.</li>
        <li>Open <code>http://localhost:8000</code>. Move the slider to compare SDR base vs HDR (gain applied).</li>
      </ol>
      <p class="note">Files: <code>generated/base.png</code>, <code>generated/hdr.png</code>, <code>generated/gain.png</code>, <code>generated/boosted.png</code> (boosted â‰ˆ hdr for verification).</p>
      <div class="image-frame" style="margin-top:12px;">
        <img src="generated/gain.png" alt="Gain map visualization" style="width: 100%; max-width: 420px; display: block;" />
      </div>
    </section>
  </main>
  <script>
    const boosted = document.getElementById('hdr');
    const slider = document.getElementById('slider');
    function updateClip() {
      const pct = 100 - Number(slider.value);
      boosted.style.clipPath = `inset(0 ${pct}% 0 0)`;
    }
    slider.addEventListener('input', updateClip);
    updateClip();
  </script>
</body>
</html>
